<app-navbar></app-navbar>
<div class="p-6 max-w-5xl mx-auto">
  <h1 class="text-2xl font-bold mb-4 text-gray-800">Reported Users</h1>

  <table class="table w-full bg-white shadow rounded-lg">
    <thead>
      <tr class="text-left bg-gray-100 text-sm">
        <th class="p-3">#</th>
        <th class="p-3">Reporter</th>
        <th class="p-3">Reported User</th>
        <th class="p-3">Reason</th>
        <th class="p-3">Date</th>
        <th class="p-3 text-center">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let report of reports; let i = index" class="border-t hover:bg-gray-50">
        <td class="p-3">{{ i + 1 }}</td>
        <td class="p-3">{{ report.reporter?.username }}</td>
        <td class="p-3 font-medium text-red-500">{{ report.reportedUser?.username }}</td>
        <td class="p-3">{{ report.reason }}</td>
        <td class="p-3">{{ report.createdAt | date:'medium' }}</td>
        <td class="p-3 text-center">
          <button
            class="btn btn-sm btn-error"
            [disabled]="report.reportedUser?.isBlacklisted"
            (click)="blacklistUser(report.reportedUser.id)">
            {{ report.reportedUser?.isBlacklisted ? 'Blacklisted' : 'Blacklist' }}
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
